{\rtf1\ansi\ansicpg1252\cocoartf1671\cocoasubrtf200
{\fonttbl\f0\fswiss\fcharset0 Helvetica-Bold;\f1\fswiss\fcharset0 Helvetica;\f2\fnil\fcharset0 Menlo-Regular;
\f3\fnil\fcharset0 Menlo-Bold;\f4\fnil\fcharset0 Menlo-Italic;}
{\colortbl;\red255\green255\blue255;\red50\green100\blue100;\red40\green0\blue200;\red75\green0\blue240;
\red50\green205\blue50;\red102\green205\blue170;\red225\green75\blue25;\red63\green95\blue191;\red0\green128\blue128;
\red63\green127\blue127;\red127\green0\blue127;\red42\green0\blue255;}
{\*\expandedcolortbl;;\csgenericrgb\c19608\c39216\c39216;\csgenericrgb\c15686\c0\c78431;\csgenericrgb\c29412\c0\c94118;
\csgenericrgb\c19608\c80392\c19608;\csgenericrgb\c40000\c80392\c66667;\csgenericrgb\c88235\c29412\c9804;\csgenericrgb\c24706\c37255\c74902;\csgenericrgb\c0\c50196\c50196;
\csgenericrgb\c24706\c49804\c49804;\csgenericrgb\c49804\c0\c49804;\csgenericrgb\c16471\c0\c100000;}
\paperw11900\paperh16840\margl1440\margr1440\vieww22640\viewh14400\viewkind0
\pard\tx566\tx1133\tx1700\tx2267\tx2834\tx3401\tx3968\tx4535\tx5102\tx5669\tx6236\tx6803\pardirnatural\partightenfactor0

\f0\b\fs24 \cf0 Installation
\f1\b0 \
\
1. Download the Roku Video Agent and unzip it. Inside the packet you will find the following file structure:\
\
	components/\
		NRTask.xml\
	source/newrelic/\
		NRAgent.brs\
		NRUtils.brs\
\
2. Open your Roku app project\'92s directory and copy the \'93NRTask.xml\'94 to \'93components\'94 folder and \'93newrelic\'94 folder to \'93source\'94 folder.\
\

\f0\b Usage
\f1\b0 \
\
Inside the \'93sub Main()\'94 add the following  code:\
\
\pard\pardeftab720\partightenfactor0

\f2 \cf0     NewRelicInit(\cf2 \'93USER ID\'93\cf0 , \cf2 \'93API KEY\'93\cf0 , screen)
\f1 \
\pard\tx566\tx1133\tx1700\tx2267\tx2834\tx3401\tx3968\tx4535\tx5102\tx5669\tx6236\tx6803\pardirnatural\partightenfactor0
\cf0 \
After the screen and port initialization. And this:\
\
\pard\pardeftab720\partightenfactor0

\f2 \cf0     waitFunction = 
\f3\b \cf3 Function
\f2\b0 \cf0 (msg 
\f3\b \cf3 as
\f2\b0 \cf0  
\f4\i \cf4 Object
\f2\i0 \cf0 )\
        
\f3\b \cf3 print
\f2\b0 \cf0  \cf2 "\ul \ulc2 msg\ulnone  = "\cf0  msg\
    
\f3\b \cf3 end
\f2\b0 \cf0  
\f3\b \cf3 function
\f2\b0 \cf0 \
    \
    NewRelicWait(m.port, waitFunction)
\f1 \
\pard\tx566\tx1133\tx1700\tx2267\tx2834\tx3401\tx3968\tx4535\tx5102\tx5669\tx6236\tx6803\pardirnatural\partightenfactor0
\cf0 \
At the end, in place of the wait event loop. So the Main should look like:\
\
\pard\pardeftab720\partightenfactor0

\f3\b \cf3 sub
\f2\b0 \cf0  
\f3\b \cf5 Main
\f2\b0 \cf0 ()\
    
\f3\b \cf3 print
\f2\b0 \cf0  \cf2 "Main"\cf0 \
\
    
\f4\i \cf6 'The screen and port must be initialized before starting the NewRelic agent
\f2\i0 \cf0 \
    screen = 
\f4\i \cf7 CreateObject
\f2\i0 \cf0 (\cf2 "roSGScreen"\cf0 )\
    m.port = 
\f4\i \cf7 CreateObject
\f2\i0 \cf0 (\cf2 "roMessagePort"\cf0 )\
    screen.setMessagePort(m.port)\
    \
    NewRelicInit(\cf2 \'93USER ID\'93\cf0 , \cf2 \'93API KEY\'93\cf0 , screen)\
    
\f4\i \cf6 \'91To activate New Relic Agent logs
\f2\i0 \cf0 \
    nrActivateLogging(
\f3\b \cf3 true
\f2\b0 \cf0 )\
\
    
\f4\i \cf6 \'91Init the first scene
\f2\i0 \cf0 \
    scene = screen.CreateScene(\cf2 "NRVideoAgentExample"\cf0 )\
    screen.show()\
    \
    waitFunction = 
\f3\b \cf3 Function
\f2\b0 \cf0 (msg 
\f3\b \cf3 as
\f2\b0 \cf0  
\f4\i \cf4 Object
\f2\i0 \cf0 )\
        
\f3\b \cf3 print
\f2\b0 \cf0  \cf2 "\ul msg\ulnone  = "\cf0  msg\
    
\f3\b \cf3 end
\f2\b0 \cf0  
\f3\b \cf3 function
\f2\b0 \cf0 \
    \
    NewRelicWait(m.port, waitFunction)\
    \

\f3\b \cf3 end
\f2\b0 \cf0  
\f3\b \cf3 sub
\f2\b0 \cf0 \
\pard\tx566\tx1133\tx1700\tx2267\tx2834\tx3401\tx3968\tx4535\tx5102\tx5669\tx6236\tx6803\pardirnatural\partightenfactor0

\f1 \cf0 \
Add the following code to any Scene component XML you have in your app:\
\
\pard\pardeftab720\partightenfactor0

\f2 \cf0 	\cf8 <!-- Setup New Relic Agent -->\cf0 \
	\cf9 <\cf10 script\cf0  \cf11 type\cf0 =
\f4\i \cf12 "text/brightscript"
\f2\i0 \cf0  \cf11 uri\cf0 =
\f4\i \cf12 "pkg:/source/newrelic/NRUtils.brs"
\f2\i0 \cf9 />\cf0 \
	\cf9 <\cf10 script\cf0  \cf11 type\cf0 =
\f4\i \cf12 "text/brightscript"
\f2\i0 \cf0  \cf11 uri\cf0 =
\f4\i \cf12 "pkg:/source/newrelic/NRAgent.brs"
\f2\i0 \cf9 />
\f1 \cf0 \
\pard\tx566\tx1133\tx1700\tx2267\tx2834\tx3401\tx3968\tx4535\tx5102\tx5669\tx6236\tx6803\pardirnatural\partightenfactor0
\cf0 \
And the following code inside the \'93sub init()\'94:\
\
\pard\pardeftab720\partightenfactor0

\f2 \cf0     
\f4\i \cf6 'Start New Relic agents
\f2\i0 \cf0 \
    NewRelicStart()\
    NewRelicVideoStart(video)
\f1 \
\pard\tx566\tx1133\tx1700\tx2267\tx2834\tx3401\tx3968\tx4535\tx5102\tx5669\tx6236\tx6803\pardirnatural\partightenfactor0
\cf0 \
Where \'93video\'94 is the Video node.\
}