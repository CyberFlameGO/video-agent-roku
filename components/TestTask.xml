<?xml version="1.0" encoding="UTF-8"?>
<component name = "TestTask" extends = "Task">
	<interface>
		<field id="searchString" type="string" />
	</interface>
	<script type = "text/brightscript" >
		<![CDATA[
		sub init()
  			m.top.functionName = "TestTaskMain"
		end sub
		
		function TestTaskMain()
			while true
				_url = box("https://www.google.com/search?source=hp&q=" + m.top.searchString)
			    urlReq = CreateObject("roUrlTransfer")
			    urlReq.SetUrl(_url)
			    urlReq.RetainBodyOnError(true)
			    urlReq.EnablePeerVerification(false)
			    urlReq.EnableHostVerification(false)
			
			    resp = urlReq.GetToString()
			    
			    print "---------> TestTask request response from search = " + m.top.searchString
			    
			    sleep(5000)
				
			end while
		end function
		]]>
	</script>
</component>
