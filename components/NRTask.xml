<?xml version="1.0" encoding="UTF-8"?>

<!--
**********************************************************
 NRTask.xml
 New Relic Agent background task.
 Minimum requirements: FW 7.2

 Copyright 2019 New Relic Inc. All Rights Reserved. 
**********************************************************
-->

<component name = "NRTask" extends = "Task">
	<script type="text/brightscript" uri="pkg:/source/newrelic/NRUtils.brs"/>
	<script type = "text/brightscript" >
		<![CDATA[
		function nrTaskMain()
			cnt = 0
			while true
				sleep(2500)
				nrProcessGroupedEvents()
				cnt = cnt + 1
				if cnt = 2
					nrEventProcessor()
					cnt = 0
				end if
			end while
		end function
		]]>
	</script>
</component>
